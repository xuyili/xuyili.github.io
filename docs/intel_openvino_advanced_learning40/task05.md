# Task05 实现AI应用的音视频处理、课程总结

## 1 第8课：整合实现AI应用中的音视频处理

- 应用场景描述：建立一个视频分析管道和可处理音频的并行管道，并在2个管道之间交换数据
- 挑战：
  1. 如何在2个管道之间交换数据
  2. 如何对事件进行时间同步
- 初步技术方案：通过共享文件传输的数据，一个管道将`gvaMetapublish`用于临时文件，另一个管道可以读取数据
- 流水线处理的管道连接原理：数据从左到右流动，这些管道阶段可以进行相互连接，使用`pads`进行连接，每个管道阶段都有一个` source pad`，用于输出该阶段的数据，每个阶段都有一个接收前一阶段数据的`sink-pad`，一个管道阶段可以有2个用于输出的源，或2个接收端， 
至于数量时，2个输出或2个输入是根据每个管道的功能而决定的
- 技术方案：两个流水线共享一个或多个解码阶段，故该处理流程有一个视频管道、一个音频管道和一个解码管道，将解码管道连接到音频管道和视频管道，音频检测结果发送到一个临时文件中，视频管道结果总是会写入GST缓冲区
- 具体方式：构建一个自定义 python 脚本，该脚本将从临时文件中读取音频结果，将它们与帧同步，并将检测元素添加到GST缓冲区，以便 视频管道的其余部分也可以呈现音频事件
- 方案步骤：
  1. 建立一个复杂的管道，用于处理视频和音频
  2. 对视频应用进行对象检测 
  3. 使用`ACLnet`对音频进行声音分类

## 2 课程总结

- 第1课：介绍了OpenVINO的整个生态系统，包括加速视频处理的媒体软件开发套件、VPL一个优秀快速的视频处理库、深度学习部署工具套件（DLDT）、Open Model Zoo、校准工具、DL-Streamer、DL-workbench。
- 演示运行流程：
  1. 先使用模型下载器下载模型，从模型列表找到需要下载的模型
  2. 如果需要，调用相同模型列表上的转换器脚本，将模型转换为IR
  3. 确保已经完成实验的准备工作，同时也可能需要满足其他额外的系统要求
  4. 运行演示
- 第2课：介绍加速器相关内容，并将加速器和功能进行了匹配学习，通过异构设备编程，可以在最高效的设备上执行每个任务，特别是计算密集度高的任务
- 第3课：介绍了英特尔集成GPU，使用媒体软件开发套件，用于在Intel CPU、GPU上以及未来在更多设备上进行视频处理，oneVPL 在这方面正逐步取代媒体软件开发套件
- 第4课：介绍推理性能，吞吐量延迟和其他效率参数的定义，介绍了执行参数，以及同步或异步运行推理的区别，并了解批处理的影响、并行推理请求的数量、线程、流等
- 第5课：深入解释了将模型转换为较低精度的优势和潜在问题，推荐将INT8用于支持英特尔DL-boost的多核机器，以便带来更大的性能提升
- 第6课：介绍音频处理内容，比较音频与视频的区别， 以及如何给神经网络提取音频特征，通过构建一个比较典型的音频管道，使用光谱图作为推理阶段的输入，用于检测声音或对声音分类
- 第7课：介绍了DL-streamer的一些新功能，包括跟踪功能、使用gvaPython创建自定义处理管道阶段、GST缓冲区和所有管道阶段相互传达数据的机制、将元数据转换为用户友好型格式、在本地或通过互联网发布相关数据
- 第8课：使用DL-streamer创建了一个完整的应用，用于并行处理图像和声音检测